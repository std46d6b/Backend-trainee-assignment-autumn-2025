# Сервис назначения ревьюверов для Pull Requestов

Сервис для назначения ревьюверов на Pull Requestы внутри команды.

## Документация

- Условия тестового задания: [docs/task.md](docs/task.md)
- Описание схемы БД: [docs/db.md](docs/db.md)
- Описание переменных окружения: [docs/env.md](docs/env.md)
- HTTP API (OpenAPI/Swagger): [docs/openapi.yml](docs/openapi.yml)

## Подготовка

Скопируйте файл шаблон `.env.example` в `.env` и настройте под свою среду:

```bash
cp .env.example .env
```

## Запуск

### Через Docker

Поднятие контейнеров:

```bash
make docker-up
```

Остановка контейнеров:

```bash
make docker-down
```

### Локальный запуск

Сборка:

```bash
make build
```

Запуск:

```bash
make run
```

Сервис по умолчанию доступен на порту `8080`.

## Принятые допущения

* В БД не ограничивается количество назначенных ревьюверов, но на уровне бизнес-логики контролируется максимум в два ревьювера на PR.
* Неактивные пользователи (`is_active = false`) не назначаются на новые ревью, но остаются в текущих назначениях и участвуют в чтении.
* Операция merge PR реализована как идемпотентная: повторные вызовы возвращают текущее состояние PR (как того требует условие).
