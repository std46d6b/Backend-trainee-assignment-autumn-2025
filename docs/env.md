# Переменные окружения

Сервис читает конфигурацию только из переменных окружения.
Локально их удобно задавать через файл `.env`, в Docker — через `docker-compose.yaml`.
Ниже перечислены переменные, которые используются.

## Основные переменные приложения

Эти переменные читаются из пакета `internal/config` и напрямую влияют на работу сервиса.

| Переменная                          | Обязательна | Значение по умолчанию | Описание                                                                 |
|-------------------------------------|-------------|-----------------------|----------------------------------------------------------------------------------|
| `DATABASE_URL`                      | да          | — (обязательное поле) | Полная строка подключения к PostgreSQL, используется приложением и миграциями.   |
| `MAX_CONNS`                         | нет         | `10`                  | Максимальное количество подключений в пуле к БД.                                 |
| `MIN_CONNS`                         | нет         | `1`                   | Минимальное количество подключений в пуле к БД.                                  |
| `HEALTH_CHECK_INTERVAL_IN_SECONDS`  | нет         | `5`                   | Интервал проверки соединения с БД (в секундах).                                  |
| `WEB_SERVER_ADDRESS`                | нет         | `""` (пустая строка)  | Адрес, на котором слушает HTTP-сервер, например `0.0.0.0` или `127.0.0.1`.       |
| `WEB_SERVER_PORT`                   | нет         | `8080`                | Порт HTTP-сервера. В Docker пробрасывается наружу как `${WEB_SERVER_PORT}`.      |
| `SHUTDOWN_TIMEOUT_IN_SECONDS`       | нет         | `5`                   | Таймаут корректного завершения работы сервера (в секундах).                      |

Пример `DATABASE_URL` для локального запуска через Docker-контур из этого репозитория:

```text
postgres://api:supper_secure_password@db:5432/api?sslmode=disable
```